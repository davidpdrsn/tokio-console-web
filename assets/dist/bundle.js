(()=>{"use strict";var e={472:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAndRun=void 0;const r=o(n(986));function a(e,t){const n=new WebSocket(`ws://${e.host}:${e.port}/live`),o={};n.addEventListener("open",(()=>{!function(e,t,n){var o;null===(o=n.onSocketOpen)||void 0===o||o.call(n),function(e){const t="data-live-view-id";document.querySelectorAll("[data-live-view-id]").forEach((n=>{const o=n.getAttribute(t);o&&i(e,o,"axum/mount-live-view",{})}))}(e),t.firstConnect&&function(e){var t=new Set;for(let n of c)document.querySelectorAll(`[${n.attr}]`).forEach((n=>{t.has(n)||l(e,n),t.add(n)}));for(let t of u)document.querySelectorAll(`[${t.attr}]`).forEach((n=>{d(e,n,t)}))}(e)}(n,t,e)})),n.addEventListener("message",(e=>{!function(e,t,n,o,r){const a=JSON.parse(t.data);if("h"===a.t)e.send(JSON.stringify({h:"ok"}));else if("i"===a.t){const t=a.i,n=a.d,o=document.querySelector(`[data-live-view-id="${t}"]`);if(!o)throw"Element not found";v(e,o,f(n)),r[t]=n}else if("r"===a.t){const t=a.i,n=a.d,o=document.querySelector(`[data-live-view-id="${t}"]`);if(!o)throw"Element not found";const i=r[t];if(!i)throw"No liveView state found";m(i,n),v(e,o,f(i))}else if("j"===a.t)a.d.forEach(p);else if("live-view-gone"===a.t){const t=a.i;console.error(`Something went wrong on the server and liveView ${t} is gone`),e.close(),n.closedForGood=!0}}(n,e,t,0,o)})),n.addEventListener("close",(()=>{!function(e,t,n){var o;null===(o=n.onSocketClose)||void 0===o||o.call(n),function(e,t,n){var o;t.closedForGood?null===(o=n.onClosedForGood)||void 0===o||o.call(n):(t.firstConnect=!1,setTimeout((()=>{a(n,t)}),1e3))}(0,t,n)}(0,t,e)})),n.addEventListener("error",(()=>{!function(e,t,n){var o;null===(o=n.onSocketError)||void 0===o||o.call(n)}(0,0,e)}))}function i(e,t,n,o){let r=[t,n,o];e.send(JSON.stringify(r))}function l(e,t){for(let n of c)d(e,t,n)}t.connectAndRun=function(e){a(e,{firstConnect:!0,closedForGood:!1})};const c=[{attr:"axm-click",eventName:"click"},{attr:"axm-input",eventName:"input"},{attr:"axm-blur",eventName:"blur"},{attr:"axm-focus",eventName:"focus"},{attr:"axm-change",eventName:"change"},{attr:"axm-submit",eventName:"submit"},{attr:"axm-keydown",eventName:"keydown"},{attr:"axm-keyup",eventName:"keyup"},{attr:"axm-mouseenter",eventName:"mouseenter"},{attr:"axm-mouseover",eventName:"mouseover"},{attr:"axm-mouseleave",eventName:"mouseleave"},{attr:"axm-mouseout",eventName:"mouseout"},{attr:"axm-mousemove",eventName:"mousemove"}],u=[{attr:"axm-window-keydown",eventName:"keydown",bindEventTo:window},{attr:"axm-window-keyup",eventName:"keyup",bindEventTo:window},{attr:"axm-window-focus",eventName:"focus",bindEventTo:window},{attr:"axm-window-blur",eventName:"blur",bindEventTo:window}];function d(e,t,n){var o,r;r="bindEventTo"in n?n.bindEventTo:t;const{attr:a,eventName:l}=n;if(null===(o=t.getAttribute)||void 0===o?void 0:o.call(t,a)){var c,u=n=>{var o,r;let c=null===(o=t.closest("[data-live-view-id]"))||void 0===o?void 0:o.getAttribute("data-live-view-id");if(!c)return;let u=t.getAttribute(a);if(u){var d={e:l};try{d.m=JSON.parse(u)}catch(e){d.m=u}if("FORM"===t.nodeName)d.v=function(e){var t={};return e.querySelectorAll("textarea").forEach((e=>{const n=e.getAttribute("name");n&&(t[n]=e.value)})),e.querySelectorAll("input").forEach((e=>{const n=e.getAttribute("name");n&&("radio"===e.getAttribute("type")?e.checked&&(t[n]=e.value):"checkbox"===e.getAttribute("type")?(t[n]||(t[n]={}),t[n][e.value]=e.checked):t[n]=e.value)})),e.querySelectorAll("select").forEach((e=>{const n=e.getAttribute("name");if(n)if(e.hasAttribute("multiple")){const o=Array.from(e.selectedOptions).map((e=>e.value));t[n]=o}else t[n]=e.value})),t}(t);else{const e=function(e){return e instanceof HTMLTextAreaElement?e.value:e instanceof HTMLInputElement?"radio"===e.getAttribute("type")||"checkbox"===e.getAttribute("type")?e.checked:e.value:e instanceof HTMLSelectElement?e.hasAttribute("multiple")?Array.from(e.selectedOptions).map((e=>e.value)):e.value:null}(t);null!==e&&(d.v=e)}if(n instanceof MouseEvent&&(d.cx=n.clientX,d.cy=n.clientY,d.px=n.pageX,d.py=n.pageY,d.ox=n.offsetX,d.oy=n.offsetY,d.mx=n.movementX,d.my=n.movementY,d.sx=n.screenX,d.sy=n.screenY),n instanceof KeyboardEvent){if(t.hasAttribute("axm-key")&&(null===(r=null==t?void 0:t.getAttribute("axm-key"))||void 0===r?void 0:r.toLowerCase())!==n.key.toLowerCase())return;d.k=n.key,d.kc=n.code,d.a=n.altKey,d.c=n.ctrlKey,d.s=n.shiftKey,d.me=n.metaKey}i(e,c,`axum/${a}`,d)}};(c=s(t,"axm-debounce"))&&(u=function(e,t){var n;return(...o)=>{n&&clearTimeout(n),n=setTimeout((()=>{e(...o)}),t)}}(u,c)),(c=s(t,"axm-throttle"))&&(u=function(e,t){var n;return(...o)=>{n||(e(...o),n=setTimeout((()=>{n=null}),t))}}(u,c)),r.addEventListener(l,(e=>{e instanceof KeyboardEvent||e.preventDefault(),u(e)}))}}function s(e,t){const n=e.getAttribute(t);if(n){const e=parseInt(n,10);if(e)return e}return null}function f(e){var t="";const n=e.f;if(!Array.isArray(n))throw"fixed is not an array";return n.forEach(((n,o)=>{t=t.concat(n);const r=e[o];if(null!=r)if("string"==typeof r)t=t.concat(r);else{if(Array.isArray(r))throw"wat";t=t.concat(f(r))}})),t}function v(e,t,n){(0,r.default)(t,n,{onNodeAdded:t=>(t instanceof Element&&l(e,t),t),onBeforeElUpdated:(e,t)=>{var n;return t.tagName,e instanceof HTMLInputElement&&t instanceof HTMLInputElement&&("radio"===t.getAttribute("type")||"checkbox"===t.getAttribute("type")?t.checked=e.checked:t.value=e.value),e instanceof HTMLTextAreaElement&&t instanceof HTMLTextAreaElement&&(t.value=e.value),e instanceof HTMLOptionElement&&t instanceof HTMLOptionElement&&(null===(n=t.closest("select"))||void 0===n?void 0:n.hasAttribute("multiple"))&&(t.selected=e.selected),e instanceof HTMLSelectElement&&t instanceof HTMLSelectElement&&!t.hasAttribute("multiple")&&(t.value=e.value),!0}})}function m(e,t){for(const[n,o]of Object.entries(t))if("string"==typeof o||Array.isArray(o))e[n]=o;else if(null===o)delete e[n];else if("object"==typeof o){const t=e[n];if("object"!=typeof t||Array.isArray(t)){if("string"==typeof t||void 0===t)e[n]=o;else if(Array.isArray(t))throw"can this be an array?"}else m(t,o)}}function p(e){const t=()=>{if("AddClass"in e.kind){const{selector:t,klass:n}=e.kind.AddClass;document.querySelectorAll(t).forEach((e=>{e.classList.add(n)}))}else if("RemoveClass"in e.kind){const{selector:t,klass:n}=e.kind.RemoveClass;document.querySelectorAll(t).forEach((e=>{e.classList.remove(n)}))}else if("ToggleClass"in e.kind){const{selector:t,klass:n}=e.kind.ToggleClass;document.querySelectorAll(t).forEach((e=>{e.classList.toggle(n)}))}else if("NavigateTo"in e.kind){const{uri:t}=e.kind.NavigateTo;t.startsWith("http")?window.location.href=t:window.location.pathname=t}else if("ClearValue"in e.kind){const{selector:t}=e.kind.ClearValue;document.querySelectorAll(t).forEach((e=>{(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement)&&(e.value="")}))}else"SetTitle"in e.kind?document.title=e.kind.SetTitle.title:"HistoryPushState"in e.kind?window.history.pushState({},"",e.kind.HistoryPushState.uri):e.kind};e.delay_ms?setTimeout(t,e.delay_ms):t()}},986:(e,t,n)=>{var o;n.r(t),n.d(t,{default:()=>f});var r="undefined"==typeof document?void 0:document,a=!!r&&"content"in r.createElement("template"),i=!!r&&r.createRange&&"createContextualFragment"in r.createRange();function l(e,t){var n,o,r=e.nodeName,a=t.nodeName;return r===a||(n=r.charCodeAt(0),o=a.charCodeAt(0),n<=90&&o>=97?r===a.toUpperCase():o<=90&&n>=97&&a===r.toUpperCase())}function c(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var u={OPTION:function(e,t){var n=e.parentNode;if(n){var o=n.nodeName.toUpperCase();"OPTGROUP"===o&&(o=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==o||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}c(e,t,"selected")},INPUT:function(e,t){c(e,t,"checked"),c(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var o=e.firstChild;if(o){var r=o.nodeValue;if(r==n||!n&&r==e.placeholder)return;o.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,o,r=-1,a=0,i=e.firstChild;i;)if("OPTGROUP"===(o=i.nodeName&&i.nodeName.toUpperCase()))i=(n=i).firstChild;else{if("OPTION"===o){if(i.hasAttribute("selected")){r=a;break}a++}!(i=i.nextSibling)&&n&&(i=n.nextSibling,n=null)}e.selectedIndex=r}}};function d(){}function s(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}const f=function(e,t,n){if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName||"BODY"===e.nodeName){var c=t;(t=r.createElement("html")).innerHTML=c}else f=(f=t).trim(),t=a?function(e){var t=r.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(f):i?function(e){return o||(o=r.createRange()).selectNode(r.body),o.createContextualFragment(e).childNodes[0]}(f):function(e){var t=r.createElement("body");return t.innerHTML=e,t.childNodes[0]}(f);var f,v=n.getNodeKey||s,m=n.onBeforeNodeAdded||d,p=n.onNodeAdded||d,h=n.onBeforeElUpdated||d,y=n.onElUpdated||d,b=n.onBeforeNodeDiscarded||d,A=n.onNodeDiscarded||d,N=n.onBeforeElChildrenUpdated||d,g=!0===n.childrenOnly,E=Object.create(null),T=[];function x(e){T.push(e)}function w(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var o=void 0;t&&(o=v(n))?x(o):(A(n),n.firstChild&&w(n,t)),n=n.nextSibling}}function S(e,t,n){!1!==b(e)&&(t&&t.removeChild(e),A(e),w(e,n))}function k(e){p(e);for(var t=e.firstChild;t;){var n=t.nextSibling,o=v(t);if(o){var r=E[o];r&&l(t,r)?(t.parentNode.replaceChild(r,t),C(r,t)):k(t)}else k(t);t=n}}function C(e,t,n){var o=v(t);if(o&&delete E[o],!n){if(!1===h(e,t))return;if(function(e,t){var n,o,r,a,i=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var l=i.length-1;l>=0;l--)o=(n=i[l]).name,r=n.namespaceURI,a=n.value,r?(o=n.localName||o,e.getAttributeNS(r,o)!==a&&("xmlns"===n.prefix&&(o=n.name),e.setAttributeNS(r,o,a))):e.getAttribute(o)!==a&&e.setAttribute(o,a);for(var c=e.attributes,u=c.length-1;u>=0;u--)o=(n=c[u]).name,(r=n.namespaceURI)?(o=n.localName||o,t.hasAttributeNS(r,o)||e.removeAttributeNS(r,o)):t.hasAttribute(o)||e.removeAttribute(o)}}(e,t),y(e),!1===N(e,t))return}"TEXTAREA"!==e.nodeName?function(e,t){var n,o,a,i,c,d=t.firstChild,s=e.firstChild;e:for(;d;){for(i=d.nextSibling,n=v(d);s;){if(a=s.nextSibling,d.isSameNode&&d.isSameNode(s)){d=i,s=a;continue e}o=v(s);var f=s.nodeType,p=void 0;if(f===d.nodeType&&(1===f?(n?n!==o&&((c=E[n])?a===c?p=!1:(e.insertBefore(c,s),o?x(o):S(s,e,!0),s=c):p=!1):o&&(p=!1),(p=!1!==p&&l(s,d))&&C(s,d)):3!==f&&8!=f||(p=!0,s.nodeValue!==d.nodeValue&&(s.nodeValue=d.nodeValue))),p){d=i,s=a;continue e}o?x(o):S(s,e,!0),s=a}if(n&&(c=E[n])&&l(c,d))e.appendChild(c),C(c,d);else{var h=m(d);!1!==h&&(h&&(d=h),d.actualize&&(d=d.actualize(e.ownerDocument||r)),e.appendChild(d),k(d))}d=i,s=a}!function(e,t,n){for(;t;){var o=t.nextSibling;(n=v(t))?x(n):S(t,e,!0),t=o}}(e,s,o);var y=u[e.nodeName];y&&y(e,t)}(e,t):u.TEXTAREA(e,t)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var o=v(n);o&&(E[o]=n),e(n),n=n.nextSibling}}(e);var L,O,M=e,H=M.nodeType,R=t.nodeType;if(!g)if(1===H)1===R?l(e,t)||(A(e),M=function(e,t){for(var n=e.firstChild;n;){var o=n.nextSibling;t.appendChild(n),n=o}return t}(e,(L=t.nodeName,(O=t.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==O?r.createElementNS(O,L):r.createElement(L)))):M=t;else if(3===H||8===H){if(R===H)return M.nodeValue!==t.nodeValue&&(M.nodeValue=t.nodeValue),M;M=t}if(M===t)A(e);else{if(t.isSameNode&&t.isSameNode(M))return;if(C(M,t,g),T)for(var U=0,P=T.length;U<P;U++){var V=E[T[U]];V&&S(V,V.parentNode,!1)}}return!g&&M!==e&&e.parentNode&&(M.actualize&&(M=M.actualize(e.ownerDocument||r)),e.parentNode.replaceChild(M,e)),M}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(472).connectAndRun({host:"localhost",port:3e3})})();